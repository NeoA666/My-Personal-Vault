寄存器（register）是**CPU内部**用于临时存储数据、指令地址和控制信息的高速存储单元。不同架构的寄存器名称与数量不同，但通常可以按功能分为若干类。下面按分类说明各类寄存器的作用，并给出 x86 和 ARM 中常见寄存器作为示例。

1. 通用寄存器（General-purpose registers, GPR）
- 作用：用于算术、逻辑运算、临时数据存取、函数参数传递、返回值保存等。
- 特点：读写速度快，程序员/编译器经常直接使用。
- 示例：
  - x86（32 位）：EAX、EBX、ECX、EDX（各有传统用途，但现代编译器灵活使用）
  - x86-64：RAX、RBX、RCX、RDX、RDI、RSI、RBP、RSP、R8–R15
  - ARM（AArch32/AArch64）：R0–R12（AArch32）；X0–X30（AArch64），X0–X7 常用于参数/返回值传递

2. 指令寄存器 / 程序计数器（Instruction register / Program Counter, PC / IP / RIP）
- 作用：保存下一条要执行指令的地址（即指令流位置）。
- 示例：x86 的 RIP（64 位），x86 的 EIP（32 位）；ARM 的 PC（或在 AArch64 中的 PC/ELR）

3. 栈指针与基址寄存器（Stack Pointer, SP / Frame Pointer, FP / Base Pointer）
- 作用：
  - SP（如 RSP、SP）指向当前栈顶，用于函数调用/返回、局部变量、保存现场。
  - FP（如 RBP、FP）用于引用栈帧内局部变量和参数（可选，现代优化有时省略）。
- 示例：x86 的 RSP / RBP；ARM 的 SP / FP（或 X29 作帧指针）

4. 指针/索引寄存器（Index / Pointer registers）
- 作用：用于数组索引、字符串/内存操作中的源/目的地址计算和偏移。
- 示例：x86 的 RSI（源索引）、RDI（目的索引），还有 ESI/EDI。ARM 使用通用寄存器作索引（如 R1、R2）。

5. 状态/标志寄存器（Status/Flag register）
- 作用：保存算术/逻辑运算结果的标志位（如零标志、进位、溢出、符号等），供条件跳转和条件操作判断。
- 示例：x86 的 EFLAGS / RFLAGS（ZF、CF、SF、OF 等）；ARM 的 CPSR（当前程序状态寄存器，包含条件标志和控制位）

6. 控制寄存器（Control registers）
- 作用：控制 CPU 的工作模式、内存管理、特权级、缓存、页表基址等。
- 示例：x86 的 CR0、CR3（页目录基址/页表）、CR4；ARM 的各种系统控制寄存器（SCTLR、TTBR 等）

7. 段寄存器（Segment registers）——主要为 x86 特有（实模式/保护模式相关）
- 作用：保存段选择子或段基址，用于分段内存管理（现代 x86-64 长模式大多不使用分段）。
- 示例：CS、DS、SS、ES、FS、GS

8. 浮点与向量寄存器（Floating-point & SIMD registers）
- 作用：处理浮点运算与向量/并行数据（多媒体、加速库）。通常容量大、可做 SIMD 操作。
- 示例：
  - x86：x87 FPU 寄存器（旧）、MMX（旧）、XMM（SSE，128 位）、YMM（AVX，256 位）、ZMM（AVX-512，512 位）
  - ARM：VFP/NEON 寄存器（如 Q0–Q15 / V0–V31）

9. 调试寄存器（Debug registers）
- 作用：硬件断点、单步执行控制和调试相关设置。
- 示例：x86 的 DR0–DR7

10. 系统/特权寄存器与控制状态寄存器
- 作用：保存中断向量、异常状态、当前特权级、系统配置等，主要供操作系统和特权级代码使用。
- 示例：x86 的 MSRs（Model Specific Registers）、TSS 相关寄存器；ARM 的 ELx 寄存器（Exception Link Registers）等

寄存器的用途与重要场景
- 指令执行：指令取址（PC）、操作数读取与写回（GPR、浮点寄存器）、状态判断（flag）。
- 函数调用约定：用来传递参数、保存返回值、保存临时/被调用者保存寄存器（calling convention）。
- 上下文切换：操作系统在任务切换时保存/恢复寄存器状态（寄存器集是上下文的一部分）。
- 中断/异常处理：保存现场、跳转到内核/异常处理程序、使用控制寄存器修改执行环境。
- 性能：寄存器访问远快于内存，编译器尽量将热数据放到寄存器以提高性能。

小结要点
- 寄存器按功能分为通用寄存器、程序计数器、栈/帧指针、索引寄存器、状态/标志寄存器、控制寄存器、浮点/向量寄存器、调试寄存器等。
- 不同架构有不同命名与约定（例如 x86、ARM），但核心思想相同：高速存储、直接参与指令执行与控制 CPU 行为。
- 理解寄存器分类对汇编编程、编译器优化、操作系统设计和性能调优都非常重要。
[[2_抽象：进程#^9200ad]]

☑️