
引入：
- 操作系统设计要求
	高效；控制

- 基于硬件的地址转换（对于受限直接执行这一一般方法的补充），将指令中的虚拟地址转换为实际物理地址

- 进程**透明**：既进程认为自己拥有一整块地址空间，而并非时碎片化的实际物理地址

## 动态重定位（基址+界限技术）

CPU需要两个硬件寄存器：基址寄存器和界限寄存器，这两个寄存器合起来叫做内存管理单元（MMU），负责进行地址转换

程序执行时，操作系统会决定程序在物理内存中的实际加载地址，并将起始地址记录在基址寄存器中，而进程使用的内存引用都是虚拟地址，通过基址寄存器与虚拟地址的加和能够找到指令的实际物理地址并运行。

界限寄存器则设定了一个内存大小，当进程需要访问超过这个界限或者为负数的虚拟地址时，会触发CPU异常，中断进程进行

补充：操作系统通过一个空闲列表实现对于没有使用的内存空间的管理

### 硬件支持：总结

- 有一对基址/界限寄存器，实现虚拟地址的转换以及其是否越界

- 提供一些特权级的指令避免用户模式对寄存器的修改，同时能够实现异常处理

### 操作系统的职责

- 内存管理：
	- 分配给内存给新进程
	- 从终止进程收回内存
	- 使用空闲列表管理内存

- 在上下文切换时，在进程结构（PCB）中保存和恢复基址寄存器和界限寄存器

- 异常处理

《操作系统导论》P107表格

本章基于多种假设前提下提出了最简单的虚拟化内存方式，这种方式会导致大量的内存碎片，导致内存使用率不高。我们使用**分段**机制来优化它