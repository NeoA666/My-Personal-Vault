
引：通过让一个进程只运行一个时间片，然后进行进程切换，就提供了多个虚拟CPU的假象，这就是时分共享CPU技术，潜在开销就是性能损失

## 进程概念

进程：**操作系统为正在运行的程序提供的抽象**

进程的机器状态：其将要运行的指令和要读取和写入的数据都在内存中，同时拥有一些寄存器（多数指令直接对寄存器进行操作）寄存器详见[[寄存器的分类与作用分析]] ^9200ad

## 进程API

操作系统包含的所有接口：
- **创建**：创建新的进程
- **销毁**：用于终止失控的进程窗口
- **等待**：等待进程停止运行
- **状态**（status）：获取进程的状态信息
- **其他控制**：暂停进程运行一段时间后恢复等操作

## 进程创建：更多细节

程序运行的第一步：将**所有的代码和静态数据都读取到内存中**，但现代操作系统惰性执行该过程，仅在程序需要加载对应代码时加载。🤔：*I/O设备不是处理读取速度较慢吗，在需要代码时读取对应代码段不会导致处理时间边长吗，况且现代计算机一般内存足够啊？* 解答详见[[现代操作系统采用按需读取方式]] ^b85d6b

程序运行前操作系统还会执行一些其他操作，会为程序运行时地堆和栈分配一些内存。例如C语言程序中，栈用于存放局部变量、函数参数和返回地址，堆用于为程序的显式请求内存空间进行分配

操作系统还会执行一些其他初始化任务，特别关于I/O的任务

## 进程状态（state）

三种状态：
- **运行**：取消调度后成为就绪态
- **就绪**：调度后成为运行态
- **阻塞**：进程请求资源时进入阻塞态

通过合理的多进程运行排列，可以保持CPU繁忙来提高资源利用率。🤔：*能否用C或Python实现一个简易的进程运行示例，随机给予n个进程不同运行时间，随机的中断I/O请求模拟操作系统的实际情况？*

## 数据结构

在进程运行时，操作系统会追踪进程的一些重要信息，将其保存到寄存器中，再将寄存器保存到内存中，通过恢复寄存器，操作系统实现进程的恢复运行。这叫做**上下文切换**

